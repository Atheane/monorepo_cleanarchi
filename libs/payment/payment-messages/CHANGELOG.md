# Change Log

All notable changes to this project will be documented in this file.
See [Conventional Commits](https://conventionalcommits.org) for commit guidelines.

# [0.18.0](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/compare/@oney/payment-messages@0.17.0...@oney/payment-messages@0.18.0) (2021-04-29)


### Features

* **oney-messages:** adapted some tests ([ab80767](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/ab80767808c4806a32c109101f8ac8141b3f20d3))





# [0.17.0](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/compare/@oney/payment-messages@0.16.0...@oney/payment-messages@0.17.0) (2021-04-29)


### Bug Fixes

* **monorepo:** fix conflict ([06185ca](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/06185caf573ea2a7f04dedddacbe770e40e4cff2))
* **monorepo:** fix conflict ([98a52fb](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/98a52fb6f154f2ae580a1caebd3e073118041038))
* **monorepo:** fix conflicts ([db1e985](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/db1e98521f042ba2adc9fa9899b6edc52bfee179))
* **payment:** correct PR comments ([4fff374](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/4fff374cf322d59de6ae9a8c2e6b0c9f6ef67753))
* **payment:** pr comment - add initial unknown diligence validation method status ([b663e88](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/b663e88473c36362dfd83ecab9a34090c01dc6bd))
* **payment:** pr comment - type the smoney api error reason ([7feebe4](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/7feebe42fa3f8133af845fdf21434e0541765ff3))
* **subscription:** fix conflicts ([fa120d3](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/fa120d33e3a91f2dcf08fb1075248bd63c3b1d51))


### Features

* **payment:** add AddBeneficiary usecase ([17cea1d](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/17cea1d9be60756ce74414d5784322b7a5d45368))
* **payment:** add usecase and event handler to process clearings one by one ([9c6aa60](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/9c6aa6008925928f7769b6b1b15dd58dea65b7c3))
* **payment:** add usecase to extract clearings from a clearing batch ([4e28796](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/4e287968e3c0e75d402509976a8ee4a0b0ddad77))
* **payment:** add usecase to start bank account debts collections ([5f4baa7](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/5f4baa7950cfe3eccac72c409b42da3aebd86b64))
* **payment:** handle type 24 callback from the payment-azf smo-dispatcher ([7c597e5](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/7c597e5e40e954567c5288ec9e2cf7e38d11933e))
* **payment:** use domain event to set account status to activated ([1ca3b87](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/1ca3b87437551ebd778a659109ec52ae280c1600))
* **payment-core:** ACCOUNT_ELIGIBILITY_CALCULATED initiate the limits ([b8d3156](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/b8d3156741669914d1d1015a69f999f299e0ecad))
* **subscription:** handle discount application rules ([686bd97](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/686bd97ffacf91bfa470144493c4f2b116a3dcb5))
* subscription - add saga to create and activate insurance membership ([ce1c405](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/ce1c4053ca0814d5c9a3688c1da1a79442c28d42))
* **payment-core:** calculate spentFunds ([ed4856e](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/ed4856ef2f82e24db65165ff16f267880dba3df5))
* **subscription:** adding billing handling in core and app layer ([82c4f6d](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/82c4f6d22f8454957a0836b6faceb24e9837e526))
* **subscription:** handle cancel subscription and prorata price and a lot more ([0180bfe](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/0180bfebe0e0b3143f963ae0fef6cfcb4e3a79bb))





# [0.16.0](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/compare/@oney/payment-messages@0.15.0...@oney/payment-messages@0.16.0) (2021-04-15)


### Features

* **notification-api:** sending silent notification when BankAccount.uncappingState changes ([74e348d](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/74e348d217285237961e66ed3967d937242742fe))





# [0.15.0](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/compare/@oney/payment-messages@0.14.0...@oney/payment-messages@0.15.0) (2021-04-14)


### Features

* **payment-core:** updating uncaping states ([5467440](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/5467440f3a32571e8e1d839799261f508c6ae33b))





# [0.14.0](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/compare/@oney/payment-messages@0.13.0...@oney/payment-messages@0.14.0) (2021-04-14)


### Features

* **payment-core:** Uncappe updating globalOut and Balance Limit ([030238a](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/030238a9a040b5cde1a22d7afec9c7a71b418ab7))





# [0.13.0](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/compare/@oney/payment-messages@0.12.0...@oney/payment-messages@0.13.0) (2021-04-14)


### Features

* **payment:** add technical limits calculation for split payments processes ([a595ff6](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/a595ff654f1926c1dc8de90455a50173180b9bed))
* **payment:** remove wrong file technical limit calculated event ([000e851](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/000e85175a4fa51f152c7b26e02596d14ca2bdc5))





# [0.12.0](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/compare/@oney/payment-messages@0.11.0...@oney/payment-messages@0.12.0) (2021-04-02)


### Features

* **payment:** add split payment eligibility process, using cdp event ([cfb070c](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/cfb070c2548b874743c47068347f446b02820052))
* **payment:** change calculate exposure usecase to considere x3x4 eligibility of the user ([1374141](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/137414183fa545c0e9f7b377eef1b6af26984b3d))
* **payment-core:** uncapping gets in pending if TAX_NOTICE_VERIFIED received ([99f0d4a](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/99f0d4a03810bb340dcb86a3175898cfa23df12d))
* add debt P2P references ([3085f55](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/3085f55f31a8aa279cf2adbcb5719dbd099248e1))





# [0.11.0](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/compare/@oney/payment-messages@0.10.0...@oney/payment-messages@0.11.0) (2021-03-30)


### Bug Fixes

* fix merge conflicts ([c4a3b78](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/c4a3b78b44919a8077059a7f9661ccebd46f28d3))
* **payment:** fix more merge conflicts ([4758346](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/4758346c0a1194d41d6114e0b7f31731c8a6830a))
* **pfm payment:** fix merge conflicts ([ae0cccd](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/ae0cccdab7f097173a02e2e54258bb8141dce3e7))
* **pfm payment:** pr fix ([8e1b2dc](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/8e1b2dca940a624d538f15e19e20ab108038b497))


### Features

* **cdp payment:** handle the account eligibility event ([59be633](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/59be63315471101280b715033703820cfe433bd8))
* **oney-messages:** added some solution to be compatible with legacy ([cfbb857](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/cfbb8575710f76c0c3b6f1a394687899acc35a68))
* **oney-messages:** migrated 2 more events ([53ce7ea](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/53ce7ea4cddb28b6049ecd9059461ba253c9b5d9))
* **payment:** :sparkles:  add new usecase sync bankaccount exposure ([56dcfef](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/56dcfef00278361692e76e75f2c7cf0e27e2a425))
* **payment:** emitting EvaluateAccount command if contains income (CDP checking) ([3819a91](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/3819a9130f6b7bb5a13e53f68045a2145c95b2a1))
* **pfm payment:** handle the callback type 20 transactions ([9ceef0b](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/9ceef0b4aec9b8b25261cd5b392facbdf6ac41bb))
* **subscription:** refactor offer and offers library ([8f2dbe5](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/8f2dbe589596de3b0eb6143fff4e23fc182829c1))





# [0.10.0](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/compare/@oney/payment-messages@0.9.0...@oney/payment-messages@0.10.0) (2021-03-12)


### Bug Fixes

* **notification payment:** rename BANK_ACCOUNT_UNCAPPED label BANK_ACCOUNT_UNCAPPED_FROM_AGGREGATION ([28c59b6](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/28c59b6de97aa10fdafb2adfd97746c30d0f6d28))
* **payment:** rename balance limit calculated event and add cdp topic ([ed5b140](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/ed5b140f52c43950c89a49923bd5f8d9f2865bb9))


### Features

* **payment:** add a handler to uncap a bank account ([86cffa2](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/86cffa2c18dc9b4de2f54307650104a8fec7447c))





# [0.9.0](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/compare/@oney/payment-messages@0.8.1...@oney/payment-messages@0.9.0) (2021-03-12)


### Features

* **payment:** add ATM withdrawal created domain event ([b318dc6](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/b318dc61ff10367eaaaebe49fd4f05240a8db1be))





## [0.8.1](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/compare/@oney/payment-messages@0.8.0...@oney/payment-messages@0.8.1) (2021-03-10)


### Bug Fixes

* **notification:** make the PaymentCreated and TransferCreated handlers use the uid instead of bid ([862300e](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/862300e5f8ceb76d4de92020a142e9b05ec1537d))





# [0.8.0](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/compare/@oney/payment-messages@0.7.3...@oney/payment-messages@0.8.0) (2021-03-09)


### Features

* **payment:** expose endpoint emitting CheckAgregatedAccountsIncomes event ([fb86820](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/fb86820707e7b9a3e772be27474f358ff93d2bb8))





## [0.7.3](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/compare/@oney/payment-messages@0.7.2...@oney/payment-messages@0.7.3) (2021-03-03)


### Bug Fixes

* remove hardcoded userid in CARD_TRANSACTION_RECEIVED event ([c5bc4b2](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/c5bc4b2041e9b0670a25378ad50208cfd608cf98))





## [0.7.2](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/compare/@oney/payment-messages@0.7.1...@oney/payment-messages@0.7.2) (2021-02-25)


### Bug Fixes

* **payment:** change smoney raw debt created callback properties ([b436716](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/b436716b8a0e2f24b25dde28f195200560346a60))





## [0.7.1](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/compare/@oney/payment-messages@0.7.0...@oney/payment-messages@0.7.1) (2021-02-25)


### Bug Fixes

* payment - change value in sct in payload to camelCase ([fb017bc](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/fb017bcbf79ca58ea1d7221c6b407cd959bc743e))





# [0.7.0](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/compare/@oney/payment-messages@0.6.0...@oney/payment-messages@0.7.0) (2021-02-24)


### Bug Fixes

* **payment-core,messages,adapters:** add phone field to BankAccountCreated ([06c882e](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/06c882ef4ff0769843fe48b3913b5e55de029fff))


### Features

* send an email when a transfer is done ([6b1f9b4](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/6b1f9b47381678f08912c5866130f01ae9dd113a))





# [0.6.0](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/compare/@oney/payment-messages@0.5.1...@oney/payment-messages@0.6.0) (2021-02-18)


### Bug Fixes

* **payment-adapters,core,messages:** add missing fields to BankAccountCreated domain event ([41067bb](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/41067bb6abf048f0058ca9729b2cd1283c4507e1))
* **payment-api,core,messages:** fix unpassed test due to the latest BankAccount refactoring ([7124327](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/71243273eddc9c82ae2a143709bb44dd588fbccf))
* **project:** add uncommited files ([f82d393](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/f82d393fb88a0a779ec630dc26d609cc261ecf04))
* **project:** merge develop into feat/profile/ON-2611-bankaccountcreated-event ([ebfba73](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/ebfba7390232c7d25deb375ec088000dcf9fc242))


### Features

* **payment-core,messages,adapters:** dispatch two events after the creation of a bank account ([e463d61](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/e463d61264a5244d7020105169c1fee7457d5795))
* **project:** merge develop in feat/profile/ON-2611-bankaccountcreated-event and resolve conflicts ([e0dced9](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/e0dced9d37349c5c62357e634b550035b85ad326))





## [0.5.1](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/compare/@oney/payment-messages@0.5.0...@oney/payment-messages@0.5.1) (2021-02-17)

**Note:** Version bump only for package @oney/payment-messages





# [0.5.0](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/compare/@oney/payment-messages@0.4.1...@oney/payment-messages@0.5.0) (2021-02-16)


### Features

* **payment:** update card status updated event payload structure ([ee9f13d](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/ee9f13d2a9e8d7f30ddce8fe79bb6070343707e9))





## [0.4.1](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/compare/@oney/payment-messages@0.4.0...@oney/payment-messages@0.4.1) (2021-02-12)


### Bug Fixes

* **clean-event:** fixed lint validation ([4502866](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/45028663fe35ceefdc687a36865eefddd715f5ef))
* **export:** moved export * to specific export ([ef9d383](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/ef9d38330faa6d6e50de0a40b6ced328f69d3ba8))





# [0.4.0](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/compare/@oney/payment-messages@0.3.0...@oney/payment-messages@0.4.0) (2021-02-11)


### Features

* **payment-azf:** change the LCBFT callback fields according to SMONEY's updated contract ([f1cc29e](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/f1cc29e7ebf5b6abfb26e5ef132274978256f564))





# [0.3.0](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/compare/@oney/payment-messages@0.2.0...@oney/payment-messages@0.3.0) (2021-02-11)


### Bug Fixes

* **fix comment:** fix comment ([8d58da5](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/8d58da5a7e7a6aaa329488feb2007a4513e8889d))
* **fix conflict:** fix conflict ([99da1a2](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/99da1a2aaaa80b1f291455d5e280eb1d5f974dfe))
* **payment-message:** change smoDebtProps, not the right format sended by smo ([1405016](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/1405016ce1dd87ccae87e9e37bd7bfada6584c82))


### Features

* **fixing checkmarx:** fixing checkmarx ([92a4fb4](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/92a4fb4138d708ee4bdbe24d8316c0ab114609a6))
* rename smoney-ekyc to dispatcher bcz this functions dispatches events from a callback ([f37a271](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/f37a271cdb0edff62159ef71bd7101d8541ddc75))





# [0.2.0](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/compare/@oney/payment-messages@0.1.0...@oney/payment-messages@0.2.0) (2021-02-06)


### Features

* **docs:** add living documentation ([aae039d](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/aae039d3d6feb08515853023e058ce7fd59a6c11))





# [0.1.0](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/compare/@oney/payment-messages@0.0.7...@oney/payment-messages@0.1.0) (2021-02-06)


### Bug Fixes

* **fix comment:** fix comment ([fec59b9](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/fec59b94e3ca7d8de530ff32f7f040fcc1c75e8c))
* **fix conflict:** fix conflict with dev ([69673dd](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/69673ddbbf61324a29e8665bd8eab7e1c400be63))


### Features

* **adding event libs:** adding event libs message for aggreg payment profile ([fe86f03](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/fe86f03a9b54241aa374ac770bfae3926621b956))
* **harmonise:** harmonise handlers, fix typing between bounded context, fix tests ([2e1ae6c](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/2e1ae6c76d57dad05990537edae34a819e16338c))





## [0.0.7](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/compare/@oney/payment-messages@0.0.6...@oney/payment-messages@0.0.7) (2021-02-05)

**Note:** Version bump only for package @oney/payment-messages





## [0.0.6](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/compare/@oney/payment-messages@0.0.5...@oney/payment-messages@0.0.6) (2021-02-03)

**Note:** Version bump only for package @oney/payment-messages





## [0.0.5](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/compare/@oney/payment-messages@0.0.4...@oney/payment-messages@0.0.5) (2021-02-03)


### Bug Fixes

* **on-2241:** add dispatch kyc diligence succeeded event ([8bacd95](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/8bacd959db4d11d65e9cadadbdc8193ebd244487))
* **on-2241:** fix pr comment ([edb9835](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/edb983530734d45008651863dc664aeeebc618a0))
* **on-2241:** fix pr comment - rename payment-events to payment-messages ([25222f4](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/25222f4aad78107f8aacb18a1fc4391abca5250a))





## [0.0.4](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/compare/@oney/payment-messages@0.0.3...@oney/payment-messages@0.0.4) (2021-02-03)

**Note:** Version bump only for package @oney/payment-messages





## [0.0.3](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/compare/@oney/payment-messages@0.0.2...@oney/payment-messages@0.0.3) (2021-02-02)


### Bug Fixes

* **opqskdk:** opqskdk ([ecc6a69](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/ecc6a69805958fe95f1407c9bdbc902b3711811f))





## 0.0.2 (2021-02-02)


### Bug Fixes

* **fix event libs:** fix event libs ([6ceabe6](https://dev.azure.com/OneyPay/OneyPay-API/_git/oney/commits/6ceabe67894319ed6c37702785d72eb41a96fdd1))
